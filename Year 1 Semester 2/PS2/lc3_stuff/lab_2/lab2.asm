.ORIG x3000
LD R6, ADDR
LD R0, FIRST
LD R1, SECOND
STR R0, R6, #0
STR R1, R6, #1

NOT R1, R1
ADD R1, R1, #1
ADD R2, R0, R1
STR R2, R6, #2

ADD R3, R3, R0
BRzp NOTNEGX
JSR NEG
NOTNEGX STR R3, R6, #3
AND R3, R3, #0
ADD R3, R3, R1
BRzp NOTNEGY
JSR NEG
NOTNEGY STR R3, R6, #4

LDR R3, R6, #3
LDR R4, R6, #4
NOT R4, R4
ADD R4, R4, #1
ADD R5, R3, R4
BRnz ISNOTPOS
AND R5, R5, #0
ADD R5, R5, #1
ISNOTPOS BRzp ISNOTNEG
AND R5, R5, #0
ADD R5, R5, #2
ISNOTNEG STR R5, R6, #5

HALT

ADDR .FILL x3120
FIRST .FILL #5
SECOND .FILL #3

NEG
ADD R3, R3, #-1
NOT R3, R3
RET

.END