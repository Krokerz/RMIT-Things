.ORIG x3000
LD R6, ADDR
LD R0, X
LD R1, Y
STR R0, R6, #0
STR R1, R6, #1

AND R2, R2, #0
JSR MULT
STR R2, R6, #2

LDR R0, R6, #0
LDR R1, R6, #1
AND R2, R2, #0
JSR DIV
STR R2, R6, #3

LDR R0, R6, #0
LDR R1, R6, #1
AND R2, R2, #0
JSR MOD
STR R2, R6, #4

HALT

MULT ADD R2, R2, R0
ADD R1, R1, #-1
BRp MULT
LDR R1, R6, #1
RET

DIV NOT R1, R1
ADD R1, R1, #1
KEEP ADD R0, R0, R1
BRp GO
RET
GO ADD R2, R2, #1
BR KEEP

MOD NOT R1, R1
ADD R1, R1, #1
REDO ADD R3, R0, R1
BRp NOPE
ADD R2, R2, R0
RET
NOPE ADD R0, R0, R1
BR REDO

X .FILL #5
Y .FILL #4
ADDR .FILL x3100

.END